version: "2.0"

rules:

- rule: Activate form2
  steps:
  - intent: already_have_agent
  - action: already_have_agent
  - active_loop: already_have_agent

- rule: Submit form2
  condition:
  - active_loop: already_have_agent
  steps:
  - action: already_have_agent
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: utter_chloe_goodbye
  
- rule: Activate form call_back_to_another_party
  steps:
  - intent: call_back_to_another_party
  - action: busy
  - active_loop: busy

- rule: Submit form call_back_to_another_party
  condition:
  - active_loop: busy
  steps:
  - action: busy
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: utter_chloe_goodbye
  
- rule: Activate form
  steps:
  - intent: busy
  - action: busy
  - active_loop: busy

- rule: Submit form
  condition:
  - active_loop: busy
  steps:
  - action: busy
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: utter_chloe_goodbye

- rule: speak_twice
  steps:
  - intent: speak_twice
  - action: action_chloe
  


- rule: dnc
  steps:
  - intent: dnc
  - action: utter_chloe_goodbye
- rule: student
  steps:
  - intent: student
  - action: utter_chloe_goodbye
- rule: who_is
  steps:
  - intent: who_is
  - action: utter_chloe_greeting_repeat
- rule: fees_question 
  steps:
  - intent: fees_question 
  - action: utter_chloe_pa_fees
- rule: question_related_to_scam
  steps:
  - intent: question_related_to_scam
  - action: utter_chloe_scam
- rule: question_related_to_numbers
  steps:
  - intent: question_related_to_numbers
  - action: utter_chloe_number_info
- rule: objection_already_have_PA_plan
  steps:
  - intent: objection_already_have_PA_plan
  - action: utter_chloe_had_a_pa_plan
- rule: not_singaporean
  steps:
  - intent: not_singaporean
  - action: utter_chloe_not_local
- rule: manager_question 
  steps:
  - intent: manager_question 
  - action: utter_chloe_manager_introduction
- rule: question_related_to_age
  steps:
  - intent: question_related_to_age
  - action: utter_chloe_age_question
- rule: question_speak_chinese
  steps:
  - intent: question_speak_chinese
  - action: utter_chloe_language_barrier
- rule: objection_i_am_agent
  steps:
  - intent: objection_i_am_agent
  - action: utter_chloe_goodbye

- rule: pa_plan_coverage
  steps:
  - intent: pa_plan_coverage
  - action: utter_chloe_pa_coverage

- rule: looking_for
  steps:
  - intent: looking_for
  - action: utter_chloe_looking_for
# - rule: call_back_to_another_party
#   steps:
#   - intent: call_back_to_another_party
#   - action: utter_chloe_busy_call_back



